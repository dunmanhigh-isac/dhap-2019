# dhap-2019

The site is built with Jekyll, and hosted on Github Pages. You'll need to install Ruby + Bundler, then to setup on your machine:

```bash
$ bundle install
$ bundle exec jekyll serve
# navigate to localhost:4000
``` 

Each page on the site is rendered with one of three [layout](#layouts). The more repetitive content, i.e. the 
pages featuring all the groups and people, is organised into [collections](#collections) and automatically 
generated when the page is built. The rest of the one-off pages on the site, mainly information pages, are 
placed on the top-level directory as [pages](#pages).

## Layouts

* Default

	Provides a baseline for every page on the site. It provides:
		
	* A `<head>` linking SEO tags (generated by the [`jekyll-seo-tag` gem](https://github.com/jekyll/jekyll-seo-tag)), 
		as well as all common stylesheets and any included stylesheets (iterates through `stylesheets` declared in the 
		front-matter)

	* The navigation header (`_includes/header.html`)

	* A `<main>` that wraps the content

	* The footer

	* All common scripts, and any included scripts (iterates through `scripts`)

* Content

	Wraps content in a card that formats article content, and 'floats' on top of the background behind on desktop.

	Most content pages either use this layout or the Group layout, which inherits from this. The only exceptions 
	are the 'index' pages: `/index.html`, `/councils.html` and `/org_comm.html`. They have more custom 
	layouts and thus don't use the card.

* Group

	Provides the layout for each group collection. It renders each group's writeup, and iterates through the
	`people` collection to find the people belonging to that group, rendering their writeups and portraits after 
	the writeup. 

	The abbreviation (`name_short`) is used to find the people to include in each group. If a person is in more than one group, they'll have two files in the `people` collection.


## Collections

Most of the content on the site is organised as [collections](https://jekyllrb.com/docs/collections/),
contained in the `writeups` directory. The writeups consist of info about the Executive Board ('councils')
and organising committees ("org\_committees"), and the people in each group.

* Councils, org\_committees: "Groups"
	* layout file: \_layouts/group.html
	* contains a writeup about the council itself
* people: councillors, committee members
	* no layout file, rendered by Group template
	* contains a writeup about the person
	* the group can be iterated through using `site.people`

When the site is built, the pages for councils and organising committees will be output at `/councils/*` 
and `org_committees/*` respectively. The pages under the `people` collection aren't rendered by themselves, but
rendered as part of the councils/org_committee pages.

## Pages

